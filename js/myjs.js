function color16(){var t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random());return"#"+t.toString(16)+e.toString(16)+a.toString(16)}$("html,body").click(function(t){var e=new Array("❤","^_^","自由","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"),a=Math.floor(Math.random()*e.length),o=$("<b/>").text(e[a]),n=t.pageX,i=t.pageY;o.css({"z-index":99999,top:i-20,left:n,position:"absolute",color:color16()}),$("body").append(o),o.animate({top:i-180,opacity:0},1500,function(){o.remove()}),t.stopPropagation()}),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};var w,h,canvas=document.getElementById("universe"),cxt=canvas.getContext("2d"),num=50,data=[],move=[];function init(){w=canvas.width=window.innerWidth,h=canvas.height=window.innerHeight;for(var t=0;t<num;t++)data[t]={x:Math.random()*w,y:Math.random()*h,cx:3*Math.random()-1,cy:3*Math.random()-1},circle(data[t].x,data[t].y)}function circle(t,e){cxt.save(),cxt.fillStyle="pink",cxt.beginPath(),cxt.arc(t,e,.5,2*Math.PI,!1),cxt.closePath(),cxt.fill(),cxt.restore()}function line(t,e,a,o){var n=cxt.createLinearGradient(t,e,a,o);n.addColorStop(0,"#eee"),n.addColorStop(.5,"#eee"),n.addColorStop(1,"#eee"),cxt.save(),cxt.strokeStyle=n,cxt.beginPath(),cxt.moveTo(t,e),cxt.lineTo(a,o),cxt.stroke(),cxt.restore()}init(),function t(){cxt.clearRect(0,0,w,h);for(var e=0;e<num;e++){data[e].x+=data[e].cx,data[e].y+=data[e].cy,(data[e].x>w||data[e].x<0)&&(data[e].cx=-data[e].cx),(data[e].y>h||data[e].y<0)&&(data[e].cy=-data[e].cy),circle(data[e].x,data[e].y);for(var a=e+1;a<num;a++)(data[e].x-data[a].x)*(data[e].x-data[a].x)+(data[e].y-data[a].y)*(data[e].y-data[a].y)<=6400&&line(data[e].x,data[e].y,data[a].x,data[a].y);move.x&&(data[e].x-move.x)*(data[e].x-move.x)+(data[e].y-move.y)*(data[e].y-move.y)<=1e4&&line(data[e].x,data[e].y,move.x,move.y)}window.requestAnimFrame(t)}(),document.onmousemove=function(t){move.x=t.clientX,move.y=t.clientY};var oImgs=document.querySelectorAll("#img");if(0<oImgs.length){var oImg=oImgs[0],temp=new Image;temp.src=oImg.getAttribute("src"),temp.onload=function(){oImg.src=oImg.getAttribute("data-src"),draw(oImg)}}function draw(t){var o=document.createElement("canvas");o.width=t.width,o.height=t.height,o.style.position="absolute",o.style.left=t.offsetLeft+"px",o.style.top=t.offsetTop+"px",t.parentNode.insertBefore(o,t);var n=o.getContext("2d");n.fillStyle="#bbb",n.fillRect(0,0,t.width,t.height),n.globalCompositeOperation="destination-out",n.strokeStyle="#eee",n.lineWidth=30,n.lineCap="round",o.onmousedown=function(t){var e=(t=t||window.event).pageX-o.offsetLeft,a=t.pageY-o.offsetTop;n.beginPath(),n.arc(e,a,15,0,6.3,!1),n.fill(),o.onmousemove=function(t){t=t||window.event,n.beginPath(),n.moveTo(e,a),n.lineTo(t.pageX-o.offsetLeft,t.pageY-o.offsetTop),e=t.pageX-o.offsetLeft,a=t.pageY-o.offsetTop,n.stroke()},document.onmouseup=function(){o.onmousemove=null,this.onmouseup=null,function(){for(var t=n.getImageData(0,0,o.width,o.height).data,e=0,a=0;a<t.length;a+=4)0==t[a]&&0==t[a+1]&&0==t[a+2]&&0==t[a+3]&&e++;30<100*e/(o.width*o.height)&&(n.beginPath(),n.fillRect(0,0,o.width,o.height))}()}}}window.onload=function(){var t=document.querySelectorAll(".lazy-img");function e(a){for(var t=window.innerHeight,e=document.documentElement.scrollTop||document.body.scrollTop,o=0;o<a.length;o++)t+e>a[o].offsetTop&&function(e){setTimeout(function(){var t=new Image;t.src=a[e].getAttribute("data-src"),t.onload=function(){a[e].src=a[e].getAttribute("data-src"),a[e].class="img"}},2e3)}(o)}e(t),window.onscroll=function(){e(t)}};var mermaidEle=document.querySelectorAll("#mermaidEle");if(0<mermaidEle.length){var head=document.getElementsByTagName("head")[0],script=document.createElement("script");script.type="text/javascript",script.src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js",head.appendChild(script),window.mermaid&&mermaid.initialize({theme:"default"})}